{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\friendlist.js"],"names":["cc","Class","extends","Component","properties","itemPrefab","Prefab","onLoad","that","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","JSON","parse","responseText","code","copydata","data","i","length","item","instantiate","node","addChild","getComponent","init","index","urlstr","location","href","open","send","start","sharetofriend","sharenode","find","Animation","play","scheduleOnce","share","mask","parentnode","active","setTimeout"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAYL,GAAGM;AADP,KAHP;;AAOLC,UAPK,oBAOK;AACN,YAAIC,OAAO,IAAX;AACA,YAAIC,MAAM,IAAIC,cAAJ,EAAV;AACAD,YAAIE,kBAAJ,GAAyB,YAAU;AAC/B,gBAAIF,IAAIG,UAAJ,IAAkB,CAAlB,IAAwBH,IAAII,MAAJ,IAAc,GAAd,IAAqBJ,IAAII,MAAJ,GAAa,GAA9D,EAAoE;AAChE,oBAAIC,WAAWC,KAAKC,KAAL,CAAWP,IAAIQ,YAAf,CAAf;AACA,oBAAGH,SAASI,IAAT,IAAe,CAAlB,EAAoB;AAChB,wBAAIC,WAAWL,SAASM,IAAxB;AACA,yBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,SAASG,MAA7B,EAAqCD,GAArC,EAA0C;AACtC,4BAAIE,OAAOvB,GAAGwB,WAAH,CAAehB,KAAKH,UAApB,CAAX;AACA,4BAAIe,OAAOD,SAASE,CAAT,CAAX;AACAb,6BAAKiB,IAAL,CAAUC,QAAV,CAAmBH,IAAnB;AACAA,6BAAKI,YAAL,CAAkB,cAAlB,EAAkCC,IAAlC,CAAuC;AACnCC,mCAAMR,CAD6B;AAEnCD,kCAAKD,SAASE,CAAT;AAF8B,yBAAvC;AAIH;AACJ;AACJ;AACJ,SAhBD;AAiBA,YAAIS,SAASC,SAASC,IAAT,IAAe,wBAAf,GAAwC,iBAAxC,GAA0D,8BAAvE;AACAvB,YAAIwB,IAAJ,CAAS,KAAT,EAAeH,SAAO,0BAAtB,EAAiD,IAAjD;AACArB,YAAIyB,IAAJ;AACH,KA9BI;AAgCLC,SAhCK,mBAgCI,CAER,CAlCI;AAoCLC,iBApCK,2BAoCU;AACX,YAAI5B,OAAO,IAAX;AACAA,aAAK6B,SAAL,GAAiBrC,GAAGsC,IAAH,CAAQ,6CAAR,CAAjB;AACA9B,aAAK6B,SAAL,CAAeV,YAAf,CAA4B3B,GAAGuC,SAA/B,EAA0CC,IAA1C,CAA+C,UAA/C;AACAhC,aAAKiC,YAAL,CAAkB,YAAW;AACzBjC,iBAAKkC,KAAL,GAAa1C,GAAGsC,IAAH,CAAQ,sBAAR,CAAb;AACA9B,iBAAKmC,IAAL,GAAY3C,GAAGsC,IAAH,CAAQ,kBAAR,CAAZ;AACA9B,iBAAKoC,UAAL,GAAkB5C,GAAGsC,IAAH,CAAQ,sBAAR,CAAlB;AACA9B,iBAAKmC,IAAL,CAAUE,MAAV,GAAmB,IAAnB;AACArC,iBAAKkC,KAAL,CAAWG,MAAX,GAAoB,IAApB;AACArC,iBAAKoC,UAAL,CAAgBC,MAAhB,GAAyB,KAAzB;AACAC,uBAAW,YAAW;AAClBtC,qBAAKmC,IAAL,CAAUE,MAAV,GAAmB,KAAnB;AACArC,qBAAKkC,KAAL,CAAWG,MAAX,GAAoB,KAApB;AACH,aAHD,EAGG,IAHH;AAIH,SAXD,EAWG,GAXH;AAYH;AApDI,CAAT","file":"friendlist.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        itemPrefab: cc.Prefab\r\n    },\r\n\r\n    onLoad () {\r\n        var that = this;\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function(){\r\n            if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\r\n                var response = JSON.parse(xhr.responseText);\r\n                if(response.code==1){\r\n                    var copydata = response.data;\r\n                    for (var i = 0; i < copydata.length; i++) {\r\n                        var item = cc.instantiate(that.itemPrefab);\r\n                        var data = copydata[i];\r\n                        that.node.addChild(item);\r\n                        item.getComponent('friendprefab').init({\r\n                            index:i,\r\n                            data:copydata[i]\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var urlstr = location.href=='http://localhost:7456/'?'http://game.com':'https://h5xyx.jinlingkeji.cn';\r\n        xhr.open('GET',urlstr+'/api/v11/game/gameFriend',true);\r\n        xhr.send();\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    sharetofriend(){\r\n        var that = this;\r\n        that.sharenode = cc.find(\"Canvas/myfriendslist/friendtip/btninvitefri\");\r\n        that.sharenode.getComponent(cc.Animation).play('scale109');\r\n        that.scheduleOnce(function() {\r\n            that.share = cc.find(\"Canvas/sharetofriend\");\r\n            that.mask = cc.find(\"Canvas/masklayer\");\r\n            that.parentnode = cc.find(\"Canvas/myfriendslist\");\r\n            that.mask.active = true;\r\n            that.share.active = true;\r\n            that.parentnode.active = false;\r\n            setTimeout(function() {\r\n                that.mask.active = false;\r\n                that.share.active = false;\r\n            }, 4000);\r\n        }, 0.4);\r\n    }\r\n});\r\n"]}