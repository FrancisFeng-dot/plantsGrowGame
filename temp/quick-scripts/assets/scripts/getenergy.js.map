{"version":3,"sources":["getenergy.js"],"names":["cc","Class","extends","Component","properties","value","RichText","inviteprizeNode","default","type","Node","init","data","string","node","getChildByName","active","clickEventHandler","EventHandler","target","component","handler","customEventData","button","getComponent","Button","clickEvents","push","farmer","energy","hadvalue","hasenergyvalue","addvalue","deprize","deenergy","inviteprize","event","maskNode","Animation","play"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAOL,GAAGM,QADF;;AAGRC,yBAAiB;AACbC,qBAAS,IADI;AAEbC,kBAAMT,GAAGU;AAFI;AAHT,KAHP;;AAYLC,UAAK,cAASC,IAAT,EAAc;AACf,aAAKP,KAAL,CAAWQ,MAAX,GAAoB,QAAOD,KAAKP,KAAZ,GAAmB,OAAvC;;AAEA,aAAKS,IAAL,CAAUC,cAAV,CAAyB,SAAzB,EAAoCC,MAApC,GAA6C,IAA7C;AACA,aAAKF,IAAL,CAAUC,cAAV,CAAyB,SAAzB,EAAoCC,MAApC,GAA6C,IAA7C;AACA,aAAKT,eAAL,CAAqBS,MAArB,GAA8B,IAA9B;;AAEA,YAAIC,oBAAoB,IAAIjB,GAAGG,SAAH,CAAae,YAAjB,EAAxB;AACAD,0BAAkBE,MAAlB,GAA2B,KAAKL,IAAhC,CARe,CAQuB;AACtCG,0BAAkBG,SAAlB,GAA8B,WAA9B,CATe,CAS2B;AAC1CH,0BAAkBI,OAAlB,GAA4B,aAA5B;AACAJ,0BAAkBK,eAAlB,GAAoCV,KAAKP,KAAzC;;AAEA,YAAIkB,SAAS,KAAKhB,eAAL,CAAqBiB,YAArB,CAAkCxB,GAAGyB,MAArC,CAAb;AACAF,eAAOG,WAAP,CAAmBC,IAAnB,CAAwBV,iBAAxB;;AAEA,aAAKW,MAAL,GAAchB,KAAKgB,MAAnB;AACA,aAAKd,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCS,YAAvC,CAAoD,YAApD,EAAkEb,IAAlE,CAAuE;AACnEkB,oBAAO,IAD4D;AAEnEC,sBAASlB,KAAKmB,cAFqD;AAGnEC,sBAASpB,KAAKP;AAHqD,SAAvE;AAKH,KAlCI;;AAoCL4B,WApCK,qBAoCK;AACN,aAAKL,MAAL,CAAYM,QAAZ,CAAqB,KAAKpB,IAA1B;AACH,KAtCI;;;AAwCL;AACAqB,eAzCK,uBAyCOC,KAzCP,EAyCcd,eAzCd,EAyC8B;AAC/B,aAAKR,IAAL,CAAUC,cAAV,CAAyB,SAAzB,EAAoCC,MAApC,GAA6C,KAA7C;AACA,aAAKF,IAAL,CAAUC,cAAV,CAAyB,SAAzB,EAAoCC,MAApC,GAA6C,KAA7C;AACA,aAAKT,eAAL,CAAqBS,MAArB,GAA8B,KAA9B;AACA,aAAKY,MAAL,CAAYS,QAAZ,CAAqBrB,MAArB,GAA8B,KAA9B;AACA,aAAKF,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCS,YAAvC,CAAoDxB,GAAGsC,SAAvD,EAAkEC,IAAlE,CAAuE,iBAAvE;AACH;AA/CI,CAAT","file":"getenergy.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        value: cc.RichText,\r\n\r\n        inviteprizeNode: {\r\n            default: null,\r\n            type: cc.Node\r\n        }\r\n    },\r\n\r\n    init:function(data){\r\n        this.value.string = '<b>'+ data.value +'g</b>';\r\n        \r\n        this.node.getChildByName(\"dynamic\").active = true;\r\n        this.node.getChildByName(\"howmuch\").active = true;\r\n        this.inviteprizeNode.active = true;\r\n\r\n        var clickEventHandler = new cc.Component.EventHandler();\r\n        clickEventHandler.target = this.node; //这个 node 节点是你的事件处理代码组件所属的节点\r\n        clickEventHandler.component = \"getenergy\";//这个是代码文件名\r\n        clickEventHandler.handler = \"inviteprize\";\r\n        clickEventHandler.customEventData = data.value;\r\n\r\n        var button = this.inviteprizeNode.getComponent(cc.Button);\r\n        button.clickEvents.push(clickEventHandler);\r\n\r\n        this.farmer = data.farmer;\r\n        this.node.getChildByName(\"iconenergy\").getComponent('energyAnim').init({\r\n            energy:this,\r\n            hadvalue:data.hasenergyvalue,\r\n            addvalue:data.value\r\n        });\r\n    },\r\n\r\n    deprize() {\r\n        this.farmer.deenergy(this.node);\r\n    },\r\n\r\n    //领取能量\r\n    inviteprize(event, customEventData){\r\n        this.node.getChildByName(\"dynamic\").active = false;\r\n        this.node.getChildByName(\"howmuch\").active = false;\r\n        this.inviteprizeNode.active = false;\r\n        this.farmer.maskNode.active = false;\r\n        this.node.getChildByName(\"iconenergy\").getComponent(cc.Animation).play('kettlehasenergy');\r\n    }\r\n});\r\n"]}