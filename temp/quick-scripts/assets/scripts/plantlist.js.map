{"version":3,"sources":["plantlist.js"],"names":["cc","Class","extends","Component","properties","itemPrefab","Prefab","onLoad","onEnable","that","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","JSON","parse","responseText","code","copydata","data","i","botany","length","item","instantiate","node","addChild","getComponent","init","plantinfo","isbotany","botanying","isnew","is_new","urlstr","location","href","open","send","onDisable","childrenCount","children","destroy"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAYL,GAAGM;AADP,KAHP;;AAOLC,UAPK,oBAOK,CAET,CATI;AAWLC,YAXK,sBAWO;AACR,YAAIC,OAAO,IAAX;AACA,YAAIC,MAAM,IAAIC,cAAJ,EAAV;AACAD,YAAIE,kBAAJ,GAAyB,YAAU;AAC/B,gBAAIF,IAAIG,UAAJ,IAAkB,CAAlB,IAAwBH,IAAII,MAAJ,IAAc,GAAd,IAAqBJ,IAAII,MAAJ,GAAa,GAA9D,EAAoE;AAChE,oBAAIC,WAAWC,KAAKC,KAAL,CAAWP,IAAIQ,YAAf,CAAf;AACA,oBAAGH,SAASI,IAAT,IAAe,CAAlB,EAAoB;AAChB,wBAAIC,WAAWL,SAASM,IAAxB;AACA,yBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,SAASG,MAAT,CAAgBC,MAApC,EAA4CF,GAA5C,EAAiD;AAC7C,4BAAIG,OAAOzB,GAAG0B,WAAH,CAAejB,KAAKJ,UAApB,CAAX;AACA,4BAAIgB,OAAOD,SAASG,MAAT,CAAgBD,CAAhB,CAAX;AACAb,6BAAKkB,IAAL,CAAUC,QAAV,CAAmBH,IAAnB;AACAA,6BAAKI,YAAL,CAAkB,gBAAlB,EAAoCC,IAApC,CAAyC;AACrCC,uCAAUV,IAD2B;AAErCW,sCAASZ,SAASa,SAFmB;AAGrCC,mCAAMd,SAASe;AAHsB,yBAAzC;AAKH;AACJ;AACJ;AACJ,SAjBD;AAkBA,YAAIC,SAASC,SAASC,IAAT,IAAe,wBAAf,GAAwC,iBAAxC,GAA0D,8BAAvE;AACA5B,YAAI6B,IAAJ,CAAS,KAAT,EAAeH,SAAO,yBAAtB,EAAgD,IAAhD;AACA1B,YAAI8B,IAAJ;AACH,KAnCI;AAqCLC,aArCK,uBAqCM;AACP,aAAK,IAAInB,IAAI,CAAb,EAAgBA,IAAI,KAAKK,IAAL,CAAUe,aAA9B,EAA6CpB,GAA7C,EAAkD;AAC9C,iBAAKK,IAAL,CAAUgB,QAAV,CAAmBrB,CAAnB,EAAsBsB,OAAtB;AACH;AACJ;AAzCI,CAAT","file":"plantlist.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        itemPrefab: cc.Prefab\r\n    },\r\n\r\n    onLoad () {\r\n        \r\n    },\r\n\r\n    onEnable () {\r\n        var that = this;\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function(){\r\n            if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\r\n                var response = JSON.parse(xhr.responseText);\r\n                if(response.code==1){\r\n                    var copydata = response.data;\r\n                    for (var i = 0; i < copydata.botany.length; i++) {\r\n                        var item = cc.instantiate(that.itemPrefab);\r\n                        var data = copydata.botany[i];\r\n                        that.node.addChild(item);\r\n                        item.getComponent('croplistprefab').init({\r\n                            plantinfo:data,\r\n                            isbotany:copydata.botanying,\r\n                            isnew:copydata.is_new\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var urlstr = location.href=='http://localhost:7456/'?'http://game.com':'https://h5xyx.jinlingkeji.cn';\r\n        xhr.open('GET',urlstr+'/api/v11/game/getBotany',true);\r\n        xhr.send();\r\n    },\r\n\r\n    onDisable(){\r\n        for (var i = 0; i < this.node.childrenCount; i++) {\r\n            this.node.children[i].destroy();\r\n        }\r\n    }\r\n});\r\n"]}